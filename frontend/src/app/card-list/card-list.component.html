
<div *ngIf="currentQuestion">

  <!-- ADMIN ACTIONS (TOP) -->
  <div class="admin-actions" *ngIf="isAdmin">
    <button class="add-btn" (click)="toggleAddForm()">âž• Add</button>
    <button class="delete-btn" (click)="onDelete(currentQuestion)">ðŸ—‘ Delete</button>
  </div>

  <!-- QUESTION -->
  <h2>{{ currentQuestion.question }}</h2>

  <!-- OPTIONS -->
  <div class="options">
    <div
      class="option"
      [ngClass]="{
        correct: selectedOption &&
                 currentQuestion.option_a === currentQuestion.correct_answer,
        wrong: selectedOption === currentQuestion.option_a &&
               selectedOption !== currentQuestion.correct_answer
      }"
      (click)="selectOption(currentQuestion.option_a)"
    >
      A. {{ currentQuestion.option_a }}
    </div>

    <div
      class="option"
      [ngClass]="{
        correct: selectedOption &&
                 currentQuestion.option_b === currentQuestion.correct_answer,
        wrong: selectedOption === currentQuestion.option_b &&
               selectedOption !== currentQuestion.correct_answer
      }"
      (click)="selectOption(currentQuestion.option_b)"
    >
      B. {{ currentQuestion.option_b }}
    </div>

    <div
      class="option"
      [ngClass]="{
        correct: selectedOption &&
                 currentQuestion.option_c === currentQuestion.correct_answer,
        wrong: selectedOption === currentQuestion.option_c &&
               selectedOption !== currentQuestion.correct_answer
      }"
      (click)="selectOption(currentQuestion.option_c)"
    >
      C. {{ currentQuestion.option_c }}
    </div>

    <div
      class="option"
      [ngClass]="{
        correct: selectedOption &&
                 currentQuestion.option_d === currentQuestion.correct_answer,
        wrong: selectedOption === currentQuestion.option_d &&
               selectedOption !== currentQuestion.correct_answer
      }"
      (click)="selectOption(currentQuestion.option_d)"
    >
      D. {{ currentQuestion.option_d }}
    </div>
  </div>

</div>

<!-- ADD QUESTION FORM -->
<div class="add-form" *ngIf="showAddForm && isAdmin">

  <h3>Add New Question</h3>

  <input
    type="text"
    placeholder="Question"
    [(ngModel)]="newQuestion.question"
  />

  <input
    type="text"
    placeholder="Option A"
    [(ngModel)]="newQuestion.option_a"
  />

  <input
    type="text"
    placeholder="Option B"
    [(ngModel)]="newQuestion.option_b"
  />

  <input
    type="text"
    placeholder="Option C"
    [(ngModel)]="newQuestion.option_c"
  />

  <input
    type="text"
    placeholder="Option D"
    [(ngModel)]="newQuestion.option_d"
  />

  <select [(ngModel)]="newQuestion.correct_answer">
    <option value="">Select Correct Answer</option>
    <option [value]="newQuestion.option_a">Option A</option>
    <option [value]="newQuestion.option_b">Option B</option>
    <option [value]="newQuestion.option_c">Option C</option>
    <option [value]="newQuestion.option_d">Option D</option>
  </select>

  <div class="form-actions">
    <button class="save-btn" (click)="submitQuestion()">Save</button>
    <button class="cancel-btn" (click)="toggleAddForm()">Cancel</button>
  </div>

</div>









